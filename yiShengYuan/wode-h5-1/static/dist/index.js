!function(t,e,n){"use strict";var a=e(".main"),i=e("#wode"),o=e("#mask"),s=e("#body"),d=e("#cai"),f=e("#hua"),r={},c=t.navigator.userAgent.toLowerCase(),u=function(){for(var t=[/micromessenger/,/mqqbrowser/,/.+iphone.+mobile.+qq.+/],e=t.length;e--;)if(t[e].test(c))return!0;return!1}(),m=/micromessenger/.test(c),l="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx7612f63079f53ff4&redirect_uri=${url}&response_type=code&scope=snsapi_userinfo&state=park#wechat_redirect",h=/iphone/.test(c),p=/AppleWebKit.*Mobile.*/.test(navigator.userAgent)?"tap":"click",w={wode:{topImg:i.find(".wode-top-img"),downImg:i.find(".line-bottom"),btnTwo:i.find(".index-btn"),txt:i.find(".wode-txt"),btn:i.find(".btn-wrap")},cai:d,hua:f,caiAnimate:{tit:d.find(".cai-tit"),txt:d.find(".cai-txt"),btn:d.find(".cai-buttom")},huaAnimate:{tit:f.find(".hua-tit"),txt:f.find(".hua-txt"),btn:f.find(".hua-buttom")}},g={init:function(){g.getParse(function(){g.urlChange(),r.device?s.addClass("js-no-download"):u?(a.find(".js-download").addClass("js-notice").removeAttr("href"),a.on(p,".js-notice",function(){g.maskShow()})):h?a.find(".js-download").attr("href",G.appStoreUrl).removeAttr("download"):a.find(".js-download").attr("href",G.apkUrl)}),g.animate.wode()},animate:{wode:function(){w.wode.topImg.addClass("fadeInDown"),w.wode.downImg.addClass("fadeInUp"),setTimeout(function(){w.wode.btn.addClass("rotateInUpLeft"),setTimeout(function(){w.wode.txt.addClass("rotateInUpLeft"),setTimeout(function(){w.wode.btnTwo.addClass("pulse")},400)},600)},800)},cai:function(){w.caiAnimate.txt.addClass("fadeInDown"),setTimeout(function(){w.caiAnimate.tit.addClass("lightSpeedIn"),setTimeout(function(){w.caiAnimate.btn.addClass("fadeInRight")},800)},800)},hua:function(){w.huaAnimate.txt.addClass("fadeInDown"),setTimeout(function(){w.huaAnimate.tit.addClass("lightSpeedIn"),setTimeout(function(){w.huaAnimate.btn.addClass("fadeInRight")},800)},800)}},getParse:function(t){var e=location.href,n=e.indexOf("?")+1;if(n>0)for(var a,i=e.slice(n).split("&"),o=i.length;o--;)a=i[o].split("="),r[a[0]]=a[1];t&&t()},urlChange:function(){var t,e=s.find(".js-url-change"),n=e.length;if(m)for(;n--;)t=e.eq(n),t.attr("href",l.replace("${url}",t.data("href")+(r.merchantID?"?merchantID="+r.merchantID:"")));else for(;n--;)t=e.eq(n),t.attr("href",t.data("href")+(r.merchantID?"?merchantID="+r.merchantID:""))},intoSecon:function(t){i.removeClass("fadeInLeft").addClass("fadeOutLeft"),w[t].removeClass("fadeOutRight active").addClass("fadeInRight active"),g.animate[t]()},goHome:function(t){w[t].removeClass("fadeInRight").addClass("fadeOutRight"),i.removeClass("fadeOutLeft").addClass("fadeInLeft")},maskClose:function(){o.removeClass("active");var t=setTimeout(function(){o.addClass("none"),clearTimeout(t)},600)},maskShow:function(){o.removeClass("none");var t=setTimeout(function(){o.addClass("active"),clearTimeout(t)},100)}};g.init(),i.on(p,".cai-btn-wrap",function(){g.intoSecon("cai")}),i.on(p,".hua-btn-wrap",function(){g.intoSecon("hua")}),a.on(p,".back-index",function(){g.goHome(e(this).data("type"))}),a.on("swipeRight",".js-swipe",function(){g.goHome(e(this).data("type"))}),o.on(p,".mask-close",function(){g.maskClose()})}(window||this,Zepto);